<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <system.webServer>

        <rewrite>
            <rules>

                <!--
                 Catch:
                 /library/interoperability/fhir/fhir-vital-signs-profiles/
                 to:
                 https://digital.nhs.uk/services/fhir-apis/vital-signs-profiles
               -->
                <rule name="301 Redirect 1" stopProcessing="true">
                    <match url="^library/interoperability/fhir/fhir-vital-signs-profiles"/>
                    <action type="Redirect" url="https://digital.nhs.uk/services/fhir-apis/vital-signs-profiles"
                            redirectType="Permanent"/>
                </rule>

                <!--
                  Catch
                  /library/interoperability/fhir/
                  /library/interoperability/fhir/fhir-reference-server/
                  /library/interoperability/fhir/fhir-policy/
                  to:
                  https://digital.nhs.uk/services/fhir-apis
                -->
                <rule name="301 Redirect 2" stopProcessing="true">
                    <match url="^library/interoperability/fhir"/>
                    <action type="Redirect" url="https://digital.nhs.uk/services/fhir-apis" redirectType="Permanent"/>
                </rule>

                <!--
                  Catch
                  /library/systems/nhs-login-info-suppliers/
                  /library/systems/nhs-login-info-suppliers/nhs-login-introduction/
                  to:
                  https://digital.nhs.uk/services/nhs-login
                -->
                <rule name="301 Redirect 3" stopProcessing="true">
                    <match url="^library/systems/nhs-login-info-suppliers"/>
                    <action type="Redirect" url="https://digital.nhs.uk/services/nhs-login" redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 4" stopProcessing="true">
                    <match url="^learn/falsified-medicines-directive-fmd-implementation-toolkits-2"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/falsified-medicines-directive-fmd/implementation-toolkits"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 5" stopProcessing="true">
                    <match url="^learn/fmd-secondary-care-toolkit"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/falsified-medicines-directive-fmd/secondary-care-toolkit"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 6" stopProcessing="true">
                    <match url="^learn/fmd-community-pharmacy-toolkit-2"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/falsified-medicines-directive-fmd/community-pharmacy-toolkit"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 7" stopProcessing="true">
                    <match url="^learn/fmd-dispensing-doctor-toolkit"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/falsified-medicines-directive-fmd/dispensing-doctor"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 8" stopProcessing="true">
                    <match url="^learn/fmd-gp-practice-toolkit"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/falsified-medicines-directive-fmd/gp-practice-toolkit"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 9" stopProcessing="true">
                    <match url="^learn/out-of-hours-gp-toolkit"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/falsified-medicines-directive-fmd/out-of-hours-gp-toolkit"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 10" stopProcessing="true">
                    <match url="^community"/>
                    <action type="Redirect" url="https://digital.nhs.uk/services/developer-resources"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 11" stopProcessing="true">
                    <match url="^library/interoperability/hl7-fhir-standard"/>
                    <action type="Redirect" url="https://digital.nhs.uk/services/fhir-apis" redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 12" stopProcessing="true">
                    <match url="^learn/improve-customer-experience-automated-polling-nominated-electronic-prescriptions"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/electronic-prescription-service/improve-customer-experience-with-automated-polling-for-nominated-electronic-prescriptions"
                            redirectType="Permanent"/>
                </rule>

                <!--
                  Catch
                  /library/interoperability/ciao-care-integration-orchestration/
                  /library/interoperability/ciao-care-integration-orchestration/about-ciao
                  to:
                  https://digital.nhs.uk/services/care-integration-and-orchestration
                -->
                <rule name="301 Redirect 13" stopProcessing="true">
                    <match url="^library/interoperability/ciao-care-integration-orchestration"/>
                    <action type="Redirect" url="https://digital.nhs.uk/services/care-integration-and-orchestration"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 14" stopProcessing="true">
                    <match url="^library/systems/digital-medicines/electronic-prescription-service-eps/prescribing-mvp"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/electronic-prescription-service/eps-prescribing-system-minimum-viable-product"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 15" stopProcessing="true">
                    <match url="^library/systems/digital-medicines/electronic-prescription-service-eps"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/electronic-prescription-service/eps-requirements"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 16" stopProcessing="true">
                    <match url="^library/interoperability/national-failsafe"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/digital-child-health/national-population-failsafe-management-service"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 17" stopProcessing="true">
                    <match url="^downloads-data/integrated-urgent-care"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/integrated-urgent-care-domain-message-specification"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 18" stopProcessing="true">
                    <match url="^library/systems/digital-minor-illness-referral-service-dmirs"/>
                    <action type="Redirect" url="https://digital.nhs.uk/services/digital-minor-illness-referral-service"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 19" stopProcessing="true">
                    <match url="^downloads-data/fhir-documents"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/fhir-apis/guidance-for-developers/fhir-documents-header"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 20" stopProcessing="true">
                    <match url="^downloads-data/structured-headings-hl7v3-cda"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/fhir-apis/guidance-for-developers/structured-headings-hl7v3-clinical-document-architecture"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 21" stopProcessing="true">
                    <match url="^downloads-data/gpes-dms"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/general-practice-extraction-service/guidance-for-developers/general-practice-extraction-service-dms"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 22" stopProcessing="true">
                    <match url="^downloads-data/fhir-sci-adw-profiles"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/fhir-apis/guidance-for-developers/fhir-sc-adw-profiles"
                            redirectType="Permanent"/>
                </rule>

                <!--
                  Catch
                  /library/architecture/authentication-authorisation-deployment-patterns/
                  /library/architecture/authentication-authorisation-deployment-patterns/pattern-1-local/
                  /library/architecture/authentication-authorisation-deployment-patterns/pattern-2-local-simple-broker/
                  /library/architecture/authentication-authorisation-deployment-patterns/pattern-3-federated-identity-national-authz/
                  /library/architecture/authentication-authorisation-deployment-patterns/pattern-4-federated-identity-broker-authz/
                  /library/architecture/authentication-authorisation-deployment-patterns/pattern-5-national-identity-local-authz/
                  /library/architecture/authentication-authorisation-deployment-patterns/pattern-6-federated-identity-local-authz/
                  /library/architecture/authentication-authorisation-deployment-patterns/pattern-7-national/
                  /library/architecture/authentication-authorisation-deployment-patterns/pattern-8-national-identity-broker-authz/
                  to:
                  https://digital.nhs.uk/services/nhs-identity/authentication-and-authorisation-deployment-patterns
                -->
                <rule name="301 Redirect 23" stopProcessing="true">
                    <match url="^library/architecture/authentication-authorisation-deployment-patterns"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/nhs-identity/authentication-and-authorisation-deployment-patterns"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 24" stopProcessing="true">
                    <match url="^library/interoperability/care-connect-api"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/about-nhs-digital/our-work/nhs-digital-data-and-technology-standards/framework/beta---use-of-fhir-based-apis#interoperability-priority-areas"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 25" stopProcessing="true">
                    <match url="^library/glossary"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/developer-resources/glossary-of-developer-terms"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 26" stopProcessing="true">
                    <match url="^learn/fhir-profile-vs-api"/>
                    <action type="Redirect" url="https://digital.nhs.uk/services/fhir-apis/fhir-profiles-and-fhir-apis"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 27" stopProcessing="true">
                    <match url="^library/systems/nhsmail"/>
                    <action type="Redirect" url="https://support.nhs.net/knowledge-base/applications-guide"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 28" stopProcessing="true">
                    <match url="^downloads-data/fhir-dds-dms"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/diagnostics-data-service/diagnostic-data-service---developer-resources"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 29" stopProcessing="true">
                    <match url="^downloads-data/diagnostic-data-services-fhir-profiles-design"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/diagnostics-data-service/diagnostic-data-service---developer-resources"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 30" stopProcessing="true">
                    <match url="^downloads-data/child-protection-information-sharing-domain-message-specification"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/child-protection-information-sharing-project/cp-is-domain-message-specification"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 31" stopProcessing="true">
                    <match url="^downloads-data/nhs-cp-is-spine-mini-service-domain-message-specification"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/cp-is-spine-mini-service-domain-message-specification"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 32" stopProcessing="true">
                    <match url="^library/systems/electronic-prescription-service-eps/"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/electronic-prescription-service/eps-requirements"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 33" stopProcessing="true">
                    <match url="^library/identifiers/ods-ord-api-implementation-guide/sync-endpoint/ord-api-demo"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/organisation-data-service/guidance-for-developers/ods-ord-api-synchroniser-demonstrator"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 34" stopProcessing="true">
                    <match url="^library/identifiers/ods-ord-api-implementation-guide/organisation-endpoint"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/organisation-data-service/guidance-for-developers/organisation-endpoint"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 35" stopProcessing="true">
                    <match url="^library/identifiers/ods-ord-api-implementation-guide/search-endpoint"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/organisation-data-service/guidance-for-developers/search-endpoint"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 36" stopProcessing="true">
                    <match url="^library/identifiers/ods-ord-api-implementation-guide/sync-endpoint"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/organisation-data-service/guidance-for-developers/sync-endpoint"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 37" stopProcessing="true">
                    <match url="^library/identifiers/ods-ord-api-implementation-guide-v3/http-headers"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/organisation-data-service/guidance-for-developers/http-headers"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 38" stopProcessing="true">
                    <match url="^library/identifiers/ods-ord-api-implementation-guide-v3/creating-a-baseline"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/organisation-data-service/guidance-for-developers/creating-a-baseline"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 39" stopProcessing="true">
                    <match url="^library/identifiers/ods-ord-api-implementation-guide"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/organisation-data-service/guidance-for-developers/ods-ord-api-implementation-guide"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 40" stopProcessing="true">
                    <match url="^learn/electronic-prescription-service-eps-dummies"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/electronic-prescription-service/guidance-for-developers/eps---guidance-for-developers"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 41" stopProcessing="true">
                    <match url="^learn/electronic-prescription-service-eps-for-dummies-part-ii-a-deeper-look"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/electronic-prescription-service/guidance-for-developers/eps---guidance-for-developers"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 42" stopProcessing="true">
                    <match url="^learn/electronic-prescription-service-eps-identifiers-mean"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/electronic-prescription-service/guidance-for-developers/guidance-for-developers-electronic-prescription-service-eps-identifiers-and-what-they-mean"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 43" stopProcessing="true">
                    <match url="^learn/ideas-using-eps-prescription-tracker-api-patient-facing-apps"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/electronic-prescription-service/guidance-for-developers/guidance-for-developers-prescription-tracker-api---patient-facing-apps"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 44" stopProcessing="true">
                    <match url="^learn/ideas-using-eps-prescription-tracker-api"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/electronic-prescription-service/guidance-for-developers/guidance-for-developers-ideas-for-using-the-prescription-tracker-api"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 46" stopProcessing="true">
                    <match url="^learn/eps-integration-walkthrough"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/electronic-prescription-service/guidance-for-developers/guidance-for-developers-electronic-prescription-service-integration-walk-through"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 47" stopProcessing="true">
                    <match url="^library/identifiers/nhs-number-client"/>
                    <action type="Redirect" url="https://digital.nhs.uk/services/nhs-number/nhs-number-client"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 48" stopProcessing="true">
                    <match url="^library/interoperability/itk-payloads-hl7v3-and-cda"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/itk-payloads---hl7v3-and-clinical-document-architecture"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 49" stopProcessing="true">
                    <match url="^library/interoperability/hl7v3-hsci-dms"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/hl7v3-hsci-dms"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 50" stopProcessing="true">
                    <match url="^library/interoperability/nhs-interoperability-framework/itk-project-modules"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/nhs-interoperability-framework/itk-project-modules"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 51" stopProcessing="true">
                    <match url="^library/interoperability/nhs-interoperability-framework/referebc/specification-traceability-javadocs-and-source-cross-reference"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/nhs-interoperability-framework/specification-traceability-javadocs-and-source-cross-reference"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 52" stopProcessing="true">
                    <match url="^library/interoperability/itk"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/interoperability-toolkit-releases/release-2.2"
                            redirectType="Permanent"/>
                </rule>


                <!-- 121 Mapping -->
                <rule name="301 Redirect 53" stopProcessing="true">
                    <match url="^library/interoperability/nhs-interoperability-framework/2432-2/adt-admit-patient-ph"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/nhs-interoperability-framework/itk-api-and-reference-implementation-scenarios/adt-admit-patient-p-h-synchronous"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 54" stopProcessing="true">
                    <match url="^library/interoperability/nhs-interoperability-framework/2432-2/adt-query-xml"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/nhs-interoperability-framework/itk-api-and-reference-implementation-scenarios/admit-discharge-transfer-adt-query-patient-xml"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 55" stopProcessing="true">
                    <match url="^library/interoperability/nhs-interoperability-framework/2432-2/routed-cda-document-business-acknowledgement-example"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/nhs-interoperability-framework/itk-api-and-reference-implementation-scenarios/routed-cda-document---business-acknowledgement"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 56" stopProcessing="true">
                    <match url="^library/interoperability/nhs-interoperability-framework/2432-2/sms-client"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/nhs-interoperability-framework/itk-api-and-reference-implementation-scenarios/spine-mini-services-client"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 57" stopProcessing="true">
                    <match url="^library/interoperability/nhs-interoperability-framework/2432-2/spine-mini-services-provider"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/nhs-interoperability-framework/itk-api-and-reference-implementation-scenarios/spine-mini-services-provider"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 58" stopProcessing="true">
                    <match url="^library/interoperability/nhs-interoperability-framework/2432-2/routed-cda-document-repository-example"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/nhs-interoperability-framework/itk-api-and-reference-implementation-scenarios/routed-cda-document---repository-example"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 59" stopProcessing="true">
                    <match url="^library/interoperability/nhs-interoperability-framework/2432-2"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/nhs-interoperability-framework/itk-api-and-reference-implementation-scenarios"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 60" stopProcessing="true">
                    <match url="^library/interoperability/nhs-interoperability-framework"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/nhs-interoperability-framework"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 61" stopProcessing="true">
                    <match url="^downloads-data/minimum-data-set-fhir-documents-itk-responses-transfer-care-toc"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/downloads-and-data"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 62" stopProcessing="true">
                    <match url="^downloads-data/itk3-test-harness-user-guidance"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/downloads-and-data"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 63" stopProcessing="true">
                    <match url="^downloads-data/itk-smsp-reference-java"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/downloads-and-data"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 64" stopProcessing="true">
                    <match url="^downloads-data/net-itk-soap-framework"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/downloads-and-data"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 65" stopProcessing="true">
                    <match url="^downloads-data/itk-payloads"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/downloads-and-data"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 66" stopProcessing="true">
                    <match url="^downloads-data/reference-implementation-project"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/downloads-and-data"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 67" stopProcessing="true">
                    <match url="^downloads-data/tms-dotnet-implementation"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/transaction-messaging-service/transaction-messaging-service-microsoft-.net-implementation"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 68" stopProcessing="true">
                    <match url="^downloads-data/tms-java-implementation"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/transaction-messaging-service/transaction-messaging-service-java-implementation"
                            redirectType="Permanent"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 69" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds/intro/capabilities"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service/capabilities"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 70" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds/stage-3-development/requirements-pack"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service/requirements-pack-and-tom-template"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 71" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds/intro/compliance"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service/compliance-process"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 72" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds/intro/connecting"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service/connecting-to-personal-demographics-services-via-the-spine-mini-service"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 73" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds/intro/development-scenarios"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service/development-scenarios"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 74" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds/intro/tom"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service/target-operating-model-tom"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 75" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds/stage-1-getting-started"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service/stage-1-getting-started-quick-start"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 76" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds/stage-1-getting-started/quickstart"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service/stage-1-getting-started-quick-start"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 77" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds/stage-2-access-pds"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service/stage-2-access-to-personal-demographics-service"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 78" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds/stage-2-access-pds/bp-guides-demographic"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service/stage-2-access-to-personal-demographics-service"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 79" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds/stage-3-development"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service/stage-3-development"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 80" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds/stage-4-test-assurance/sms-client-assurance"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service/sms-client-assurance-process"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 81" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds/stage-4-test-assurance/sms-test-pack"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service/sms-test-data-test-pack"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 82" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds/stage-4-test-assurance/sms-test-environments"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service/sms-test-environments"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 83" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds/stage-4-test-assurance/sms-test-tools"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service/sms-test-tools"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 84" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds/stage-5-agreements/supporting-info"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service/supporting-information-for-suppliers"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 85" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds/stage-5-agreements"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service/stage-5-agreements"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 86" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds/stage-6-deployment-service/service-management-live-service"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service/service-management-live-service"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 87" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds/stage-6-deployment-service"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service/stage-6-deployment-and-service-management"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 88" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds/stage-4-test-assurance"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service/stage-4-test-and-assurance"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 89" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds/intro"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 90" stopProcessing="true">
                    <match url="^library/systems/nhs-digital-smsp-pds"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/spine/spine-mini-service-provider-for-personal-demographics-service"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 91" stopProcessing="true">
                    <match url="^library/interoperability/urgent-emergency-care"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/about-nhs-digital/our-work/transforming-health-and-care-through-technology/urgent-and-emergency-care-domain-b/urgent-and-emergency-care-digital-integration"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 92" stopProcessing="true">
                    <match url="^itk3-test-harness/itk3-test-harness-release-notes"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/itk3-test-harness/release-notes"/>
                </rule>
                <!-- 121 Mapping -->
                <rule name="301 Redirect 93" stopProcessing="true">
                    <match url="^itk3-test-harness/itk3-test-harness-tips-implementers"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/itk3-test-harness/tips-for-implementers"/>
                </rule>
                <!-- 121 Mapping -->
                <rule name="301 Redirect 94" stopProcessing="true">
                    <match url="^itk3-test-harness/itk3-test-harness-test-message-examples"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/itk3-test-harness/test-message-examples"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 95" stopProcessing="true">
                    <match url="^itk3-test-harness"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/itk3-test-harness"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 96" stopProcessing="true">
                    <match url="^downloads-data/itk3-test-harness-test-messages"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/itk3-test-harness/test-message-examples"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 97" stopProcessing="true">
                    <match url="^interoperability-tool-kit-itk-specification-versions"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/itk3-test-harness/itk3-messaging-distribution-specification-versions"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 98" stopProcessing="true">
                    <match url="^library/interoperability/gp-connect"/>
                    <action type="Redirect" url="https://digital.nhs.uk/services/gp-connect"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 99" stopProcessing="true">
                    <match url="^transfer-care-specification-versions"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/transfer-of-care-specification-versions"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 100" stopProcessing="true">
                    <match url="^digital-maternity-specifications"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/digital-maternity-programme/digital-maternity-specifications---developer-guidance"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 101" stopProcessing="true">
                    <match url="^signatures-and-public-keys"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/developer-resources/signatures-and-public-keys"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 102" stopProcessing="true">
                    <match url="^assessment-discharge-withdrawal"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/transfer-of-care-initiative/assessment-discharge-and-withdrawal---developer-resource"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 103" stopProcessing="true">
                    <match url="^cp-is-checksum-help"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/child-protection-information-sharing-project/guidance-for-developers/checksum-help---developer-guidance"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 104" stopProcessing="true">
                    <match url="^library/systems/nhais/guide-to-nhais-gp-links-documentation"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/nhais/guide-to-nhais-gp-links-documentation"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 105" stopProcessing="true">
                    <match url="^library/systems/nhais"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/nhais/nhais-developer-document-library"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 106" stopProcessing="true">
                    <match url="^apps"/>
                    <action type="Redirect" url="https://mhealth.service.nhs.uk/"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 107" stopProcessing="true">
                    <match url="^digital-tools/submit-your-app"/>
                    <action type="Redirect" url="https://www.dap.nhs.uk/eligibility"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 108" stopProcessing="true">
                    <match url="^digital-tools/register-your-interest"/>
                    <action type="Redirect" url="https://mhealth.service.nhs.uk/"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 109" stopProcessing="true">
                    <match url="^digital-tools/frequently-asked-questions"/>
                    <action type="Redirect" url="https://mhealth.service.nhs.uk/"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 110" stopProcessing="true">
                    <match url="^digital-tools/daq"/>
                    <action type="Redirect" url="https://mhealth.service.nhs.uk/daq.html"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 111" stopProcessing="true">
                    <match url="^digital-tools/become-an-assessor"/>
                    <action type="Redirect" url="https://mhealth.service.nhs.uk/assessors.html"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 112" stopProcessing="true">
                    <match url="^gp-connect-specification-versions"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/gp-connect/gp-connect-specifications-for-developers"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 113" stopProcessing="true">
                    <match url="^digital-medicine-specification-versions"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/fhir-apis/guidance-for-developers/digital-medicine-specification"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 114" stopProcessing="true">
                    <conditions>
                        <add input="{QUERY_STRING}" pattern="page_id=38441"/>
                    </conditions>
                    <action type="Redirect" appendQueryString="false"
                            url="https://digital.nhs.uk/services/digital-maternity-programme/digital-maternity-specifications---developer-guidance"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 115" stopProcessing="true">
                    <match url="^testcentre/itk-nrls"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/itk-test-centre/toolkit-workbench---national-record-locator-service"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 116" stopProcessing="true">
                    <match url="^testcentre/itk-adw-mesh-validator"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/itk-test-centre/adw-mesh-validator"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 117" stopProcessing="true">
                    <match url="^testcentre/itk-cda-mesh-validator"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/itk-test-centre/cda-mesh-validator"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 118" stopProcessing="true">
                    <match url="^testcentre/itk-accreditation"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/itk-test-centre/itk-conformance"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 119" stopProcessing="true">
                    <match url="^testcentre/itk-testbench"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/itk-test-centre/itk-testbench"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 120" stopProcessing="true">
                    <match url="^testcentre/itk"/>
                    <action type="Redirect" url="https://digital.nhs.uk/services/interoperability-toolkit"/>
                </rule>

                <!-- 121 Mapping -->
                <rule name="301 Redirect 121" stopProcessing="true">
                    <match url="^testcentre"/>
                    <action type="Redirect"
                            url="https://digital.nhs.uk/services/interoperability-toolkit/developer-resources/itk-test-centre"/>
                </rule>

                <rule name="folderRoot" patternSyntax="Wildcard">
                    <match url="*"/>
                    <conditions>
                        <add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true"/>
                        <add input="{REQUEST_FILENAME}" matchType="IsDirectory" negate="true"/>
                    </conditions>
                    <action type="Rewrite" url="index.html"/>
                </rule>

            </rules>

            <outboundRules>
                <!-- This rule changes the domain in the HTTP location header for redirection responses -->
                <rule name="Change Location Header">
                    <match serverVariable="RESPONSE_LOCATION" pattern="^http://developer[^/]+/(.*)"/>
                    <conditions>
                        <add input="{RESPONSE_STATUS}" pattern="^301"/>
                    </conditions>
                    <action type="Rewrite" value="https://developer.nhs.uk/{R:1}"/>
                </rule>
                <rule name="Change Location Header - https">
                    <match serverVariable="RESPONSE_LOCATION" pattern="^https://developer[^/]+/(.*)"/>
                    <conditions>
                        <add input="{RESPONSE_STATUS}" pattern="^301"/>
                    </conditions>
                    <action type="Rewrite" value="https://developer.nhs.uk/{R:1}"/>
                </rule>
            </outboundRules>
        </rewrite>
        <staticContent>
            <mimeMap fileExtension=".svg" mimeType="image/svg+xml"/>
            <mimeMap fileExtension=".woff" mimeType="application/font-woff"/>
            <mimeMap fileExtension=".woff2" mimeType="application/font-woff"/>
            <clientCache cacheControlMode="UseMaxAge" cacheControlMaxAge="365.00:00:00"/>
        </staticContent>
    </system.webServer>

</configuration>